# 湖底レンズ (Kotei Lens)

## 概要

「湖底レンズ」は、東京都奥多摩町の小河内ダム湖（奥多摩湖）の底に沈んだ旧小河内村の在りし日の姿を、イマーシブな3D空間で蘇らせるWebアプリケーションです。

スマートフォンやタブレットのGPS位置情報、ジャイロセンサー、方位磁針を活用し、まるでダムがない時代にタイムスリップしたかのような体験を提供します。デバイスを向けた方向に応じて3D空間の視点が変化し、かつて存在した建物や道、風景を探索できます。最新のWebGPU技術により、リアルで美しい村の姿を再現します。

## 背景

小河内ダムは1957年に完成し、東京都の水源として重要な役割を果たしています。しかし、その建設により945世帯の集落が湖底に沈みました。このプロジェクトは、テクノロジーを通じて失われた故郷の記憶を保存し、次世代に伝えることを目的としています。

## 主な機能

- **イマーシブ3Dビュー**: デバイスの向きに連動し、その方向に存在した建物や風景を3D空間で表示
- **GPS連動**: 現在地に基づいて、当時の村の中での位置を特定
- **タイムトラベルモード**: 年代を切り替えて、村の変遷を体験
- **ストーリーモード**: 村にまつわる物語や証言を場所と紐づけて表示
- **オフライン対応**: Service Workerとプログレッシブローディングにより、現地でもスムーズに利用可能

## 技術スタック

- **言語**: TypeScript 5.4+
- **フレームワーク**: React 18.3+ with React Three Fiber
- **3Dレンダリング**: Three.js r163+ (WebGPU/WebGL2)
- **状態管理**: Zustand
- **ビルドツール**: Vite 5.2+
- **地図/位置情報**: Leaflet, Geolocation API
- **デバイスセンサー**: DeviceOrientation API, DeviceMotion API
- **ホスティング**: GitHub Pages + CDN
- **データ形式**: GeoJSON, glTF 2.0 (Draco圧縮、KTX2テクスチャ対応)

## 使い方

1. スマートフォンまたはタブレットで本サイトにアクセス
2. 位置情報とセンサーへのアクセスを許可
3. 小河内ダム周辺でアプリを起動
4. デバイスを様々な方向に向けて、かつての村の姿を探索

## 開発状況

現在、プロジェクトは初期開発段階です。詳細な開発計画については[開発ロードマップ](docs/roadmap.md)をご覧ください。

## ドキュメント

- [技術仕様書](docs/technical-spec.md)
- [UI/UXデザイン仕様](docs/ui-ux-spec.md)
- [データ仕様](docs/data-spec.md)
- [開発ロードマップ](docs/roadmap.md)

## 貢献

このプロジェクトへの貢献を歓迎します。特に以下の分野でのご協力を求めています：

- 小河内村の歴史資料・写真・証言の提供
- 3D モデリング
- UI/UX デザイン
- プログラミング
- ドキュメント作成・翻訳

## ライセンス

MIT License

## 連絡先

プロジェクトに関するお問い合わせは、Issuesまたはプルリクエストでお願いします。